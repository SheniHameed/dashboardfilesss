{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\react-router-6-master\\\\src\\\\components\\\\ProtectedRoutes.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Navigate, Outlet } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst useAuth = () => {\n  //get item from localstorage\n  let user;\n\n  const _user = localStorage.getItem(\"user\");\n\n  if (_user) {\n    user = JSON.parse(_user);\n    console.log(\"user\", user);\n  }\n\n  if (user) {\n    return {\n      auth: true,\n      role: user.role\n    };\n  } else {\n    return {\n      auth: false,\n      role: null\n    };\n  }\n}; //protected Route state\n\n\nconst ProtectedRoutes = props => {\n  _s();\n\n  const {\n    auth,\n    role\n  } = useAuth(); //if the role required is there or not\n\n  if (props.roleRequired) {\n    return auth ? props.roleRequired === role ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/denied\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, this);\n  } else {\n    return auth ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 30\n    }, this);\n  }\n};\n\n_s(ProtectedRoutes, \"YghbvoNYVxBxVP2XFCiv0s9ErXo=\", false, function () {\n  return [useAuth];\n});\n\n_c = ProtectedRoutes;\nexport default ProtectedRoutes;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProtectedRoutes\");","map":{"version":3,"names":["React","Navigate","Outlet","useAuth","user","_user","localStorage","getItem","JSON","parse","console","log","auth","role","ProtectedRoutes","props","roleRequired"],"sources":["C:/Users/Asus/Desktop/react-router-6-master/src/components/ProtectedRoutes.tsx"],"sourcesContent":["import React from \"react\"\n\nimport {Navigate, Outlet} from \"react-router-dom\"\n\nconst useAuth = () => {\n\t//get item from localstorage\n\n\tlet user: any\n\n\tconst _user = localStorage.getItem(\"user\")\n\n\tif (_user) {\n\t\tuser = JSON.parse(_user)\n\t\tconsole.log(\"user\", user)\n\t}\n\tif (user) {\n\t\treturn {\n\t\t\tauth: true,\n\t\t\trole: user.role,\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\tauth: false,\n\t\t\trole: null,\n\t\t}\n\t}\n}\n\n//protected Route state\ntype ProtectedRouteType = {\n\troleRequired?: \"ADMIN\" | \"USER\"\n}\n\nconst ProtectedRoutes = (props: ProtectedRouteType) => {\n\tconst {auth, role} = useAuth()\n\n\t//if the role required is there or not\n\tif (props.roleRequired) {\n\t\treturn auth ? (\n\t\t\tprops.roleRequired === role ? (\n\t\t\t\t<Outlet />\n\t\t\t) : (\n\t\t\t\t<Navigate to=\"/denied\" />\n\t\t\t)\n\t\t) : (\n\t\t\t<Navigate to=\"/login\" />\n\t\t)\n\t} else {\n\t\treturn auth ? <Outlet /> : <Navigate to=\"/login\" />\n\t}\n}\n\nexport default ProtectedRoutes\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAAQC,QAAR,EAAkBC,MAAlB,QAA+B,kBAA/B;;;AAEA,MAAMC,OAAO,GAAG,MAAM;EACrB;EAEA,IAAIC,IAAJ;;EAEA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAd;;EAEA,IAAIF,KAAJ,EAAW;IACVD,IAAI,GAAGI,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAP;IACAK,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBP,IAApB;EACA;;EACD,IAAIA,IAAJ,EAAU;IACT,OAAO;MACNQ,IAAI,EAAE,IADA;MAENC,IAAI,EAAET,IAAI,CAACS;IAFL,CAAP;EAIA,CALD,MAKO;IACN,OAAO;MACND,IAAI,EAAE,KADA;MAENC,IAAI,EAAE;IAFA,CAAP;EAIA;AACD,CAtBD,C,CAwBA;;;AAKA,MAAMC,eAAe,GAAIC,KAAD,IAA+B;EAAA;;EACtD,MAAM;IAACH,IAAD;IAAOC;EAAP,IAAeV,OAAO,EAA5B,CADsD,CAGtD;;EACA,IAAIY,KAAK,CAACC,YAAV,EAAwB;IACvB,OAAOJ,IAAI,GACVG,KAAK,CAACC,YAAN,KAAuBH,IAAvB,gBACC,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QADD,gBAGC,QAAC,QAAD;MAAU,EAAE,EAAC;IAAb;MAAA;MAAA;MAAA;IAAA,QAJS,gBAOV,QAAC,QAAD;MAAU,EAAE,EAAC;IAAb;MAAA;MAAA;MAAA;IAAA,QAPD;EASA,CAVD,MAUO;IACN,OAAOD,IAAI,gBAAG,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QAAH,gBAAgB,QAAC,QAAD;MAAU,EAAE,EAAC;IAAb;MAAA;MAAA;MAAA;IAAA,QAA3B;EACA;AACD,CAjBD;;GAAME,e;UACgBX,O;;;KADhBW,e;AAmBN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}